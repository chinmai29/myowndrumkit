<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Drum Kit</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
</head>

<body>
    <h1 id="title">Drum Kit</h1>
    <div class="set">
        <button class="w drum">w</button>
        <button class="a drum">a</button>
        <button class="s drum">s</button>
        <button class="d drum">d</button>
        <button class="j drum">j</button>
        <button class="k drum">k</button>
        <button class="l drum">l</button>
    </div>
    <footer>
        Â© Chinmai Goyal 2021 <br> chinmaigoyal7@gmail.com
    </footer>
    <script>
        var numberOfDrums = document.querySelectorAll(".drum").length;

        for (var i = 0; i < numberOfDrums; i++) {
            document.querySelectorAll(".drum")[i].addEventListener("click", function() {
                var buttonPressed = this.innerHTML;
                makeSound(buttonPressed);
                buttonAnimation(buttonPressed);
            });
        }
        document.addEventListener("keydown", function(event) {
            makeSound(event.key);
            buttonAnimation(event.key);
        });

        function makeSound(key) {
            switch (key) {
                case "w":
                    var audio = new Audio("/sounds/tom-1.mp3");
                    audio.play();
                    break;
                case "a":
                    var audio = new Audio("/sounds/tom-2.mp3");
                    audio.play();
                    break;
                case "s":
                    var audio = new Audio("/sounds/tom-3.mp3");
                    audio.play();
                    break;
                case "d":
                    var audio = new Audio("/sounds/tom-4.mp3");
                    audio.play();
                    break;
                case "j":
                    var audio = new Audio("/sounds/snare.mp3");
                    audio.play();
                    break;
                case "k":
                    var audio = new Audio("/sounds/crash.mp3");
                    audio.play();
                    break;
                case "l":
                    var audio = new Audio("/sounds/kick-bass.mp3");
                    audio.play();
                    break;
            }
        }

        function buttonAnimation(current) {
            var active_button = document.querySelector("." + current);
            active_button.classList.add("pressed");

            setTimeout(function() {
                active_button.classList.remove("pressed");
            }, 100);
        }
    </script>
</body>

</html>